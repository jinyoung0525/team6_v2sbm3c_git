<?xml version="1.0" encoding="UTF-8"?>
 
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="dev.mvc.product.ProductDAOInter"> 

   <insert id="create" parameterType="dev.mvc.product.ProductVO">
    
    INSERT INTO product(product_no, product_name, product_count, product_day, product_cont, rdata, product_price, file1)
    VALUES(product_seq.nextval, #{product_name}, #{product_count}, #{product_day}, #{product_cont}, sysdate, #{product_price}, #{file1})
  </insert>
  
  <select id="list_by_search_paging" resultType="dev.mvc.product.ProductVO">
    SELECT product_no, product_name, product_count, product_day, product_cont, rdata , product_price, file1
    FROM product
    ORDER BY product_no ASC
  </select>
  

  
    
  <!-- 상품 정보 변경 -->
  <update id="product_update" parameterType="dev.mvc.product.ProductVO">
    UPDATE product
    SET  product_name=#{product_name}, product_count=#{product_count}, product_day=#{product_day}, product_price=#{product_price}, file1=#{file1}
    WHERE product_no = #{product_no}
  </update> 
   
  <!-- 일반적인 조회 -->
  <select id="read" resultType="dev.mvc.product.ProductVO" parameterType="int">
    SELECT product_no, product_name, product_count, product_day, product_cont, rdata , product_price, file1
    FROM product
    WHERE product_no = #{product_no}
  </select>
  
  <!-- 텍스트 수정 -->
  <update id="update_text" parameterType="dev.mvc.product.ProductVO">
    UPDATE product
    SET product_name=#{product_name}, product_count=#{product_count},  product_day=#{product_day}, 
          product_cont=#{product_cont}, product_price=#{product_price}, file1=#{file1}
    WHERE product_no = #{product_no}
  </update>
  
  <!-- 파일 수정 -->
  <update id="update_file" parameterType="dev.mvc.product.ProductVO">
    UPDATE product
    SET file1=#{file1}, file1saved=#{file1saved}, thumb1=#{thumb1}, size1=#{size1}
    WHERE contents_no = #{contents_no}
  </update>
     
</mapper> 







   
   